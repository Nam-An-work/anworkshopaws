<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.144.0">
    <meta name="description" content="">
<meta name="author" content="namannguyenkhoa@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>9. Kho dữ liệu trên Redshift :: Optimizing Data Pipelines for Real-time Analysis and Transformation on AWS</title>

    
    <link href="/css/nucleus.css?1740910364" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1740910364" rel="stylesheet">
    <link href="/css/hybrid.css?1740910364" rel="stylesheet">
    <link href="/css/featherlight.min.css?1740910364" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1740910364" rel="stylesheet">
    <link href="/css/auto-complete.css?1740910364" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1740910364" rel="stylesheet">
    <link href="/css/theme.css?1740910364" rel="stylesheet">
    <link href="/css/hugo-theme.css?1740910364" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1740910364" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1740910364"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/vi/9-warehouseonredshift/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1740910364"></script>
<script type="text/javascript" src="/js/auto-complete.js?1740910364"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/Nam-An-work.github.io\/\/vi";
    
</script>
<script type="text/javascript" src="/js/search.js?1740910364"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vi/1-introduce/" title="1. Giới thiệu" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-introduce/">
          1. Giới thiệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/2-ingestandstore/" title="2. Tiếp nhận và lưu trữ dữ liệu" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-ingestandstore/">
          2. Tiếp nhận và lưu trữ dữ liệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-ingestandstore/2.1-s3/" title="2.1 Tạo S3 bucket" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-ingestandstore/2.1-s3/">
          2.1 Tạo S3 bucket
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-ingestandstore/2.2-kn/" title="2.2. Tạo Data Firehose" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-ingestandstore/2.2-kn/">
          2.2. Tạo Data Firehose
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-ingestandstore/2.3-dummy/" title="2.3. Tạo dữ liệu giả" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-ingestandstore/2.3-dummy/">
          2.3. Tạo dữ liệu giả
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/3-catalogdata/" title="3. Dữ liệu mô tả" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-catalogdata/">
          3. Dữ liệu mô tả
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/3-catalogdata/3.1-iam/" title="3.1. Tạo role Iam" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-catalogdata/3.1-iam/">
          3.1. Tạo role Iam
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-catalogdata/3.2-glue/" title="3.2. Tạo AWS Glue Crawlers" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-catalogdata/3.2-glue/">
          3.2. Tạo AWS Glue Crawlers
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-catalogdata/3.3-athena/" title="3.3. Truy vấn dữ liệu đã nhập bằng Amazon Athena." class="dd-item 
        
        
        
        ">
      <a href="/vi/3-catalogdata/3.3-athena/">
          3.3. Truy vấn dữ liệu đã nhập bằng Amazon Athena.
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/4-datatransformation/" title="4. Chuyển đổi dữ liệu" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-datatransformation/">
          4. Chuyển đổi dữ liệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/4-datatransformation/4.1-glue-inter/" title="4.1. Chuyển đổi dữ liệu với AWS Glue" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-datatransformation/4.1-glue-inter/">
          4.1. Chuyển đổi dữ liệu với AWS Glue
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/4-datatransformation/4.2-glue-grap/" title="4.2. Chuyển đổi dữ liệu với AWS Glue Studio (graphical interface)" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-datatransformation/4.2-glue-grap/">
          4.2. Chuyển đổi dữ liệu với AWS Glue Studio (graphical interface)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/4-datatransformation/4.3-glue-data/" title="4.3. Chuyển đổi dữ liệu với AWS Glue DataBrew" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-datatransformation/4.3-glue-data/">
          4.3. Chuyển đổi dữ liệu với AWS Glue DataBrew
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/4-datatransformation/4.4-emr/" title="4.4. Chuyển đổi dữ liệu với EMR" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-datatransformation/4.4-emr/">
          4.4. Chuyển đổi dữ liệu với EMR
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/5-analyzewithathena/" title="5. Phân tích với Athena" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-analyzewithathena/">
          5. Phân tích với Athena
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/6-analyzewithkinesis/" title="6. Phân tích với Kinesis Data Analytics" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-analyzewithkinesis/">
          6. Phân tích với Kinesis Data Analytics
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/6-analyzewithkinesis/6.1-iam/" title="6.1. Tạo Role Iam" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-analyzewithkinesis/6.1-iam/">
          6.1. Tạo Role Iam
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-analyzewithkinesis/6.2-kin/" title="6.2. Tạo Kinesis Data Stream" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-analyzewithkinesis/6.2-kin/">
          6.2. Tạo Kinesis Data Stream
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-analyzewithkinesis/6.3-glue/" title="6.3. Tạo bảng Glue Catalog" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-analyzewithkinesis/6.3-glue/">
          6.3. Tạo bảng Glue Catalog
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-analyzewithkinesis/6.4-stu/" title="6.4. Tạo Sổ tay Ứng dụng Phân tích Dữ liệu Luồng trong Studio" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-analyzewithkinesis/6.4-stu/">
          6.4. Tạo Sổ tay Ứng dụng Phân tích Dữ liệu Luồng trong Studio
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/7-quicksight/" title="7. Trực quan hóa trong Amazon QuickSight" class="dd-item 
        
        
        
        ">
      <a href="/vi/7-quicksight/">
          7. Trực quan hóa trong Amazon QuickSight
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/8-servewithlambda/" title="8. Cung cấp với Lambda" class="dd-item 
        
        
        
        ">
      <a href="/vi/8-servewithlambda/">
          8. Cung cấp với Lambda
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/9-warehouseonredshift/" title="9. Kho dữ liệu trên Redshift" class="dd-item 
        
        active
        
        ">
      <a href="/vi/9-warehouseonredshift/">
          9. Kho dữ liệu trên Redshift
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/10-cleanup/" title="10. Dọn dẹp tài nguyên  " class="dd-item 
        
        
        
        ">
      <a href="/vi/10-cleanup/">
          10. Dọn dẹp tài nguyên  
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - Nhóm FB</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://Nam-An-work.github.io/9-warehouseonredshift/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="http://Nam-An-work.github.io/vi/9-warehouseonredshift/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>18-04-2024</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i> <a href="https://www.linkedin.com/in/sutrinh/"  style="color:orange">Sử Trịnh  </a> <br>
                <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng </a> <br>
                <a href="https://www.linkedin.com/in/hiepnguyendt"  style="color:orange">Thanh Hiệp </a>
               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/vi/'>Optimizing Data Pipelines for Real-time Analysis and Transformation on AWS</a> > 9. Kho dữ liệu trên Redshift
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#tạo-iam-role-cho-redshift">Tạo IAM Role cho Redshift</a></li>
        <li><a href="#tạo-cụm-redshift">Tạo Cụm Redshift</a></li>
        <li><a href="#tạo-s3-gateway-endpoint">Tạo S3 Gateway Endpoint</a></li>
        <li><a href="#xác-minh-và-thêm-quy-tắc-vào-nhóm-bảo-mật-mặc-định">Xác Minh và Thêm Quy Tắc vào Nhóm Bảo Mật Mặc Định</a></li>
        <li><a href="#tạo-kết-nối-redshift-dưới-kết-nối-glue">Tạo Kết Nối Redshift dưới Kết Nối Glue</a></li>
        <li><a href="#tạo-schema-và-bảng-redshift">Tạo Schema và Bảng Redshift</a></li>
        <li><a href="#sử-dụng-jupyter-notebook-trong-aws-glue-để-phát-triển-etl-tương-tác">Sử dụng Jupyter Notebook trong AWS Glue để phát triển ETL tương tác</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              9. Kho dữ liệu trên Redshift
            </h1>
          

        



	<p><img src="/anworkshopaws/images/a-12.png" alt="pic">
Trong mô-đun này, chúng ta sẽ thiết lập cụm Amazon Redshift và sử dụng AWS Glue để tải dữ liệu vào Amazon Redshift. Chúng ta sẽ tìm hiểu về một số cân nhắc về thiết kế và các phương pháp hay nhất về việc tạo và tải dữ liệu vào các bảng trong Redshift và chạy các truy vấn trên đó.</p>
<h3 id="tạo-iam-role-cho-redshift">Tạo IAM Role cho Redshift</h3>
<p>Truy cập vào: <a href="https://console.aws.amazon.com/iam/home?region=us-east-1#/roles">Redshift Console</a></p>
<ul>
<li>Nhấn vào <strong>Create role</strong> (Tạo vai trò)</li>
<li>Chọn <strong>Redshift</strong> dưới Use case và Use cases for other AWS services:</li>
<li>Chọn <strong>Redshift - customizable</strong></li>
<li>Nhấn Next
<img src="/anworkshopaws/images/9-warehouseonredshift/1.png" alt="pic"></li>
</ul>
<p>Trong hộp tìm kiếm, tìm và chọn hai chính sách sau</p>
<ul>
<li>
<p><strong>AmazonS3FullAccess</strong></p>
</li>
<li>
<p><strong>AWSGlueConsoleFullAccess</strong></p>
</li>
<li>
<p>Nhấn Next</p>
</li>
<li>
<p>Đặt tên Role là <strong>Analyticsworkshop_RedshiftRole</strong>
<img src="/anworkshopaws/images/9-warehouseonredshift/2.png" alt="pic"></p>
</li>
<li>
<p>Tùy chọn thêm Tags, ví dụ: workshop: AnalyticsOnAWS</p>
</li>
<li>
<p>Nhấn <strong>Create role</strong> (Tạo vai trò)
<img src="/anworkshopaws/images/9-warehouseonredshift/3.png" alt="pic"></p>
</li>
</ul>
<h3 id="tạo-cụm-redshift">Tạo Cụm Redshift</h3>
<p>Truy cập vào <a href="https://console.aws.amazon.com/redshiftv2/home?region=us-east-1">Redshift cluster</a></p>
<ul>
<li>
<p>Nhấn vào <strong>Provision</strong> và quản lý các cụm từ bảng điều khiển bên trái</p>
</li>
<li>
<p>Nhấn vào <strong>Create Cluster</strong> (Tạo Cụm)</p>
</li>
<li>
<p>Để <strong>Cluster identifier</strong> là redshift-cluster-1</p>
</li>
<li>
<p>Chọn <strong>dc2.large</strong> làm Node Type</p>
</li>
<li>
<p>Chọn <strong>Number of Nodes</strong> là 2.</p>
</li>
<li>
<p>Kiểm tra tóm tắt cấu hình.
<img src="/anworkshopaws/images/9-warehouseonredshift/4.png" alt="pic"></p>
</li>
<li>
<p>Thay đổi <strong>Master user name</strong> thành <strong>admin</strong></p>
</li>
<li>
<p>Nhập <strong>Master user password</strong> (Mật khẩu người dùng chính)
<img src="/anworkshopaws/images/9-warehouseonredshift/5.png" alt="pic"></p>
</li>
<li>
<p>Dưới phần <strong>Cluster permissions</strong> (Quyền cụm)</p>
</li>
<li>
<p>Nhấn <strong>Associate IAM role</strong> (Liên kết vai trò IAM)</p>
</li>
<li>
<p>Chọn <strong>Analyticsworkshop_RedshiftRole</strong> đã tạo trước đó</p>
</li>
<li>
<p>Nhấn <strong>Associate IAM roles</strong> (Liên kết vai trò IAM)</p>
</li>
<li>
<p><strong>Analyticsworkshop_RedshiftRole</strong> sẽ xuất hiện dưới phần <strong>Associated IAM roles</strong> (Vai trò IAM liên kết)
<img src="/anworkshopaws/images/9-warehouseonredshift/6.png" alt="pic"></p>
</li>
<li>
<p>Để mặc định phần <strong>Additional configurations</strong> (Cấu hình bổ sung). Nó sử dụng VPC mặc định và nhóm bảo mật mặc định.</p>
</li>
<li>
<p>Nhấn <strong>Create cluster</strong> (Tạo cụm)</p>
</li>
</ul>
<h3 id="tạo-s3-gateway-endpoint">Tạo S3 Gateway Endpoint</h3>
<p>Truy cập vào: <a href="https://us-east-1.console.aws.amazon.com/vpc/home?region=us-east-1#Endpoints:">AWS VPC Console</a></p>
<ul>
<li>
<p>Nhấn <strong>Create endpoint</strong> (Tạo điểm cuối)</p>
</li>
<li>
<p>Tên tag - tùy chọn: RedshiftS3EP</p>
</li>
<li>
<p>Chọn <strong>AWS Services</strong> dưới <strong>Service category</strong> (Chuyên mục dịch vụ) (mặc định)
<img src="/anworkshopaws/images/9-warehouseonredshift/7.png" alt="pic"></p>
</li>
<li>
<p>Dưới phần <strong>Service name</strong> (Tên dịch vụ), tìm kiếm <strong>&ldquo;s3&rdquo;</strong> và nhấn enter/return.</p>
</li>
<li>
<p><strong>com.amazonaws.us-east-1.s3</strong> sẽ xuất hiện như kết quả tìm kiếm. Chọn tùy chọn này với loại là <strong>Gateway</strong></p>
</li>
<li>
<p>Dưới <strong>VPC</strong>, chọn VPC mặc định. Đây là VPC đã được sử dụng để cấu hình cụm Redshift.
<img src="/anworkshopaws/images/9-warehouseonredshift/8.png" alt="pic"></p>
</li>
<li>
<p>Sau khi kiểm tra lại ID VPC, tiếp tục cấu hình phần <strong>Route tables</strong>.</p>
</li>
<li>
<p>Chọn bảng định tuyến đã liệt kê (đây sẽ là bảng định tuyến chính). Bạn có thể kiểm tra điều này bằng cách xem <strong>Yes</strong> dưới cột <strong>Main</strong>.</p>
</li>
<li>
<p>Để mặc định <strong>Policy</strong> (Chính sách) là <strong>Full access</strong> (Toàn quyền).
<img src="/anworkshopaws/images/9-warehouseonredshift/9.png" alt="pic"></p>
</li>
<li>
<p>Tùy chọn thêm Tags, ví dụ: * workshop: AnalyticsOnAWS
<img src="/anworkshopaws/images/9-warehouseonredshift/10.png" alt="pic"></p>
</li>
<li>
<p>Nhấn <strong>Create endpoint</strong> (Tạo điểm cuối). Quá trình này sẽ mất vài giây để hoàn thành. Khi điểm cuối này đã sẵn sàng, bạn sẽ thấy trạng thái là - <strong>Available</strong> (Có sẵn) đối với điểm cuối S3 mới tạo.</p>
</li>
</ul>
<h3 id="xác-minh-và-thêm-quy-tắc-vào-nhóm-bảo-mật-mặc-định">Xác Minh và Thêm Quy Tắc vào Nhóm Bảo Mật Mặc Định</h3>
<p>Truy cập vào: <a href="https://us-east-1.console.aws.amazon.com/vpc/home?region=us-east-1#SecurityGroups:">VPC Security Groups</a></p>
<ul>
<li>
<p>Chọn nhóm bảo mật Redshift. Nó sẽ là nhóm bảo mật mặc định nếu không thay đổi trong bước tạo cụm Redshift.
<img src="/anworkshopaws/images/9-warehouseonredshift/11.png" alt="pic"></p>
</li>
<li>
<p>Nhấn <strong>Edit inbound rules</strong> (Chỉnh sửa quy tắc đến)
<img src="/anworkshopaws/images/9-warehouseonredshift/12.png" alt="pic"></p>
</li>
<li>
<p>Nhấn <strong>Edit outbound rules</strong> (Chỉnh sửa quy tắc đi)
<img src="/anworkshopaws/images/9-warehouseonredshift/13.png" alt="pic"></p>
</li>
</ul>
<h3 id="tạo-kết-nối-redshift-dưới-kết-nối-glue">Tạo Kết Nối Redshift dưới Kết Nối Glue</h3>
<p>Truy cập vào: <a href="https://us-east-1.console.aws.amazon.com/gluestudio/home?region=us-east-1#/connectors">Glue Connections Console</a></p>
<ul>
<li>Dưới phần <strong>Connections</strong> (Kết nối), nhấn <strong>Create connection</strong> (Tạo kết nối)</li>
<li>Đặt tên <strong>Connection name</strong> là <strong>analytics_workshop</strong>.</li>
<li>Chọn <strong>Connection</strong> loại là <strong>Amazon Redshift</strong>.
<img src="/anworkshopaws/images/9-warehouseonredshift/14.png" alt="pic"></li>
</ul>
<p>Cấu hình truy cập Kết Nối</p>
<ul>
<li>Chọn <strong>Database instances</strong> là <strong>redshift-cluster-1</strong></li>
<li>Tên cơ sở dữ liệu và Tên người dùng sẽ được tự động điền là <strong>dev</strong> và <strong>admin</strong> tương ứng.</li>
<li>Mật khẩu: Nhập mật khẩu đã sử dụng khi thiết lập cụm Redshift.</li>
<li>Nhấn <strong>Create connection</strong> (Tạo kết nối)
<img src="/anworkshopaws/images/9-warehouseonredshift/15.png" alt="pic"></li>
</ul>
<h3 id="tạo-schema-và-bảng-redshift">Tạo Schema và Bảng Redshift</h3>
<p>Truy cập vào: <a href="https://us-east-1.console.aws.amazon.com/redshiftv2/home?region=us-east-1#query-editor:">Redshift Query Editor</a></p>
<ul>
<li>Nhấn <strong>Connect</strong> (Kết nối) vào cơ sở dữ liệu</li>
<li><strong>Connection</strong>: Tạo kết nối mới</li>
<li><strong>Authentication</strong>: Temporary credentials (Chứng thực tạm thời)</li>
<li><strong>cluster</strong>: redshift-cluster-1</li>
<li><strong>Database name</strong>: dev</li>
<li><strong>Database user</strong>: admin</li>
<li>Nhấn <strong>Connect</strong> (Kết nối)
<img src="/anworkshopaws/images/9-warehouseonredshift/16.png" alt="pic"></li>
<li>Thực thi các truy vấn dưới đây để tạo schema và bảng cho dữ liệu thô và dữ liệu tham chiếu.</li>
</ul>

<div class="notices note" ><pre><code>        CREATE schema redshift_lab;
</code></pre>
</div>


<div class="notices note" ><pre><code>        --    Tạo bảng f_raw_1.
        CREATE TABLE IF not EXISTS redshift_lab.f_raw_1 (
        uuid            varchar(256),
        device_ts         timestamp,
        device_id        int,
        device_temp        int,
        track_id        int,
        activity_type        varchar(128),
        load_time        int
        );
</code></pre>
</div>

<p>
<div class="notices note" ><pre><code>        --    Tạo bảng d_ref_data_1.
        CREATE TABLE IF NOT EXISTS redshift_lab.d_ref_data_1 (
        track_id        int,
        track_name    varchar(128),
        artist_name    varchar(128)
        );
</code></pre>
</div>

<img src="/anworkshopaws/images/9-warehouseonredshift/17.png" alt="pic"></p>
<h3 id="sử-dụng-jupyter-notebook-trong-aws-glue-để-phát-triển-etl-tương-tác">Sử dụng Jupyter Notebook trong AWS Glue để phát triển ETL tương tác</h3>
<p>Tải và lưu tệp này vào máy tính của bạn <a href="https://static.us-east-1.prod.workshops.aws/public/252b2158-4ee1-410c-b074-58190ec31cd6/static/notebooks/analytics-workshop-redshift-glueis-notebook.ipynb">file</a></p>
<ul>
<li>Truy cập vào: <a href="https://us-east-1.console.aws.amazon.com/gluestudio/home?region=us-east-1#/jobs">Glue Studio jobs</a></li>
<li>Chọn tùy chọn <strong>Jupyter Notebook</strong></li>
<li>Chọn <strong>Upload and edit an existing notebook</strong></li>
<li>Nhấn <strong>Choose file</strong></li>
<li>Duyệt và tải lên <strong>analytics-workshop-redshift-glueis-notebook.ipynb</strong> mà bạn đã tải về trước đó</li>
<li>Nhấn <strong>Create</strong>
<img src="/anworkshopaws/images/9-warehouseonredshift/18.png" alt="pic"></li>
</ul>
<p>Dưới phần Cài đặt Notebook và Cấu hình ban đầu</p>
<ul>
<li>Tên job: AnalyticsOnAWS-Redshift</li>
<li>IAM role: Analyticsworkshop-GlueISRole</li>
<li>Để mặc định Kernel là Spark</li>
<li>Nhấn <strong>Start notebook</strong></li>
</ul>
<p>Thực thi các truy vấn dưới đây để kiểm tra số lượng bản ghi trong bảng dữ liệu thô và dữ liệu tham chiếu.

<div class="notices note" ><pre><code>    select count(1) from redshift_lab.f_raw_1;

    select count(1) from redshift_lab.d_ref_data_1;
</code></pre>
</div>
</p>

<div class="notices note" ><pre><code>    select 
    track_name, 
    artist_name, 
    count(1) frequency
    from 
    redshift_lab.f_raw_1 fr
    inner join 
    redshift_lab.d_ref_data_1 drf
    on 
    fr.track_id = drf.track_id
    where 
    activity_type = 'Running'
    group by 
    track_name, artist_name
    order by 
    frequency desc
    limit 10;
</code></pre>
</div>






<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/vi/8-servewithlambda/" title="8. Cung cấp với Lambda"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/vi/10-cleanup/" title="10. Dọn dẹp tài nguyên  " style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1740910364"></script>
    <script src="/js/perfect-scrollbar.min.js?1740910364"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1740910364"></script>
    <script src="/js/jquery.sticky.js?1740910364"></script>
    <script src="/js/featherlight.min.js?1740910364"></script>
    <script src="/js/highlight.pack.js?1740910364"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1740910364"></script>
    <script src="/js/learn.js?1740910364"></script>
    <script src="/js/hugo-learn.js?1740910364"></script>

    <link href="/mermaid/mermaid.css?1740910364" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1740910364"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
